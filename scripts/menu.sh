#!/bin/bash
# scripts/menu.sh

echo "🎛️  МЕНЮ УПРАВЛЕНИЯ DOCKER ПРОЕКТОМ"
echo "=================================="

PS3="Выберите действие: "
options=(
    "🚀 Полный запуск проекта"
    "🔄 Быстрый перезапуск"
    "🛑 Остановить контейнеры"
    "🧽 Мягкая очистка"
    "🗑️ Полная очистка (данные сохраняются)"
    "🚨 Экстренная очистка (ВСЕ ДАННЫЕ БУДУТ УДАЛЕНЫ!)"
    "📊 Проверить статус"
    "🔍 Диагностика проблем"
    "❌ Выход"
)

select opt in "${options[@]}"
do
    case $opt in
        "🚀 Полный запуск проекта")
            ./scripts/full-start.sh
            ;;
        "🔄 Быстрый перезапуск")
            ./scripts/quick-restart.sh
            ;;
        "🛑 Остановить контейнеры")
            echo "⏹️ Остановка контейнеров..."
            docker-compose down
            echo "✅ Контейнеры остановлены"
            ;;
        "🧽 Мягкая очистка")
            ./scripts/soft-clean.sh
            ;;
        "🗑️ Полная очистка (данные сохраняются)")
            ./scripts/stop-and-clean.sh
            ;;
        "🚨 Экстренная очистка (ВСЕ ДАННЫЕ БУДУТ УДАЛЕНЫ!)")
            ./scripts/emergency-clean.sh
            ;;
        "📊 Проверить статус")
            ./scripts/status.sh
            ;;
        "🔍 Диагностика проблем")
            ./scripts/diagnose.sh
            ;;
        "❌ Выход")
            echo "👋 До свидания!"
            break
            ;;
        *) echo "❌ Неверный выбор. Попробуйте снова." ;;
    esac
done